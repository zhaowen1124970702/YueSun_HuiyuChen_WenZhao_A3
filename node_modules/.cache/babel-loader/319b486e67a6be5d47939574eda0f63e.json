{"ast":null,"code":"var _jsxFileName = \"/Users/wenzhao/Desktop/p3/cs5610-project3/src/Component/Post.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Post extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      idForQuery: props.query,\n      currentPost: {\n        \"title\": \"initial title\",\n        \"username\": \"fakeuser\"\n      },\n      allComments: []\n    };\n  }\n\n  getParams(location) {\n    const searchParams = new URLSearchParams(location.search);\n    return {\n      query: searchParams.get(\"query\") || \"\"\n    };\n  }\n\n  componentDidMount() {\n    Axios.get('/api/post/' + this.state.idForQuery).then(response => {\n      this.setState({\n        currentPost: response.data\n      });\n    }).catch(error => console.error(error));\n    Axios.get('/api/comment/' + this.state.idForQuery).then(response => {\n      this.setState({\n        allComments: response.data\n      });\n    }).catch(error => {\n      console.error(error);\n      this.setState({\n        allComments: []\n      });\n    });\n  }\n\n  componentDidUpdate() {} // onClick() {\n  // }\n\n\n  postDetail() {\n    if (this.state.currentPost.URL) {\n      return this.state.currentPost.URL;\n    } else {\n      return this.state.currentPost.content;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.idForQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.state.currentPost.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.currentPost.username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: this.postDetail()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: JSON.stringify(this.state.allComments)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/wenzhao/Desktop/p3/cs5610-project3/src/Component/Post.js"],"names":["React","Axios","Post","Component","constructor","props","state","idForQuery","query","currentPost","allComments","getParams","location","searchParams","URLSearchParams","search","get","componentDidMount","then","response","setState","data","catch","error","console","componentDidUpdate","postDetail","URL","content","render","title","username","JSON","stringify"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,eAAe,MAAMC,IAAN,SAAmBF,KAAK,CAACG,SAAzB,CAAmC;AAE9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,UAAU,EAAGF,KAAK,CAACG,KADV;AAETC,MAAAA,WAAW,EAAG;AAAC,iBAAQ,eAAT;AAA0B,oBAAY;AAAtC,OAFL;AAGTC,MAAAA,WAAW,EAAG;AAHL,KAAb;AAKH;;AAEDC,EAAAA,SAAS,CAACC,QAAD,EAAW;AAChB,UAAMC,YAAY,GAAG,IAAIC,eAAJ,CAAoBF,QAAQ,CAACG,MAA7B,CAArB;AACA,WAAO;AACLP,MAAAA,KAAK,EAAEK,YAAY,CAACG,GAAb,CAAiB,OAAjB,KAA6B;AAD/B,KAAP;AAGD;;AAGHC,EAAAA,iBAAiB,GAAG;AAEhBhB,IAAAA,KAAK,CAACe,GAAN,CAAU,eAAe,KAAKV,KAAL,CAAWC,UAApC,EACKW,IADL,CACWC,QAAD,IAAc;AAChB,WAAKC,QAAL,CAAc;AACVX,QAAAA,WAAW,EAAEU,QAAQ,CAACE;AADZ,OAAd;AAED,KAJP,EAKKC,KALL,CAKWC,KAAK,IAAIC,OAAO,CAACD,KAAR,CAAcA,KAAd,CALpB;AAOAtB,IAAAA,KAAK,CAACe,GAAN,CAAU,kBAAkB,KAAKV,KAAL,CAAWC,UAAvC,EACCW,IADD,CAEKC,QAAD,IAAc;AACV,WAAKC,QAAL,CAAc;AACVV,QAAAA,WAAW,EAAES,QAAQ,CAACE;AADZ,OAAd;AAEG,KALX,EAMCC,KAND,CAMOC,KAAK,IAAI;AACZC,MAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,WAAKH,QAAL,CAAc;AACVV,QAAAA,WAAW,EAAE;AADH,OAAd;AAGH,KAXD;AAaH;;AAEDe,EAAAA,kBAAkB,GAAG,CACpB,CA7C6C,CA+C9C;AAEA;;;AAEAC,EAAAA,UAAU,GAAG;AACT,QAAG,KAAKpB,KAAL,CAAWG,WAAX,CAAuBkB,GAA1B,EAA8B;AAC1B,aAAO,KAAKrB,KAAL,CAAWG,WAAX,CAAuBkB,GAA9B;AACH,KAFD,MAEO;AACH,aAAO,KAAKrB,KAAL,CAAWG,WAAX,CAAuBmB,OAA9B;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AAEL,wBACI;AAAA,8BACI;AAAA,kBAAK,KAAKvB,KAAL,CAAWC;AAAhB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBAAK,KAAKD,KAAL,CAAWG,WAAX,CAAuBqB;AAA5B;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA,kBAAK,KAAKxB,KAAL,CAAWG,WAAX,CAAuBsB;AAA5B;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA,kBAAK,KAAKL,UAAL;AAAL;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,kBAAKM,IAAI,CAACC,SAAL,CAAe,KAAK3B,KAAL,CAAWI,WAA1B;AAAL;AAAA;AAAA;AAAA;AAAA,cALJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAWH;;AAxE6C","sourcesContent":["import React from 'react';\n\nimport Axios from 'axios';\n\n\nexport default class Post extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            idForQuery : props.query,\n            currentPost : {\"title\":\"initial title\", \"username\": \"fakeuser\"},\n            allComments : []\n        }\n    }\n\n    getParams(location) {\n        const searchParams = new URLSearchParams(location.search);\n        return {\n          query: searchParams.get(\"query\") || \"\"\n        };\n      }\n\n\n    componentDidMount() {\n\n        Axios.get('/api/post/' + this.state.idForQuery)\n            .then((response) => {\n                this.setState({\n                    currentPost: response.data,\n            })})\n            .catch(error => console.error(error));\n\n        Axios.get('/api/comment/' + this.state.idForQuery)\n        .then(\n            (response) => {\n                this.setState({\n                    allComments: response.data\n                })})\n        .catch(error => {\n            console.error(error);\n            this.setState({\n                allComments: []\n            })    \n        });\n\n    }\n\n    componentDidUpdate() {\n    }\n\n    // onClick() {\n\n    // }\n\n    postDetail() {\n        if(this.state.currentPost.URL){\n            return this.state.currentPost.URL;\n        } else {\n            return this.state.currentPost.content;\n        }\n    }\n\n    render() {\n\n        return (\n            <div>\n                <h2>{this.state.idForQuery}</h2>\n                <h1>{this.state.currentPost.title}</h1>\n                <h2>{this.state.currentPost.username}</h2>\n                <h3>{this.postDetail()}</h3>\n                <h4>{JSON.stringify(this.state.allComments)}</h4>\n\n            </div>\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}
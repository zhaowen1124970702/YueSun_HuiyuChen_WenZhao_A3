{"ast":null,"code":"var _jsxFileName = \"/Users/wenzhao/Desktop/ps_final/YueSun_HuiyuChen_WenZhao_A3/src/Component/CreatePost.js\";\nimport Navbar from \"./Navbar\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class CreatePost extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      content: '',\n      URL: '',\n      message: ''\n    };\n  }\n\n  onSubmit() {\n    const newPost = {\n      \"title\": this.state.title,\n      \"content\": this.state.content,\n      \"URL\": this.state.URL\n    };\n\n    if (!newPost.content && !newPost.URL || newPost.content && newPost.URL) {\n      this.setState({\n        message: \"Only need URL or Content\"\n      });\n      return;\n    }\n\n    if (!newPost.title) {\n      return this.setState({\n        message: \"Please input title for the new post\"\n      });\n    }\n\n    Axios.post('/api/post', newPost).then(response => {\n      const postID = response.data._id;\n      window.location.href = \"post?id=\" + postID;\n    }).catch(error => {\n      this.setState({\n        message: \"Fail to create new Post\"\n      });\n    });\n  }\n\n  displayErrorMessage() {\n    if (this.state.message) {\n      return this.state.message;\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Create New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.title,\n          onChange: e => this.setState({\n            title: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.URL,\n          onChange: e => this.setState({\n            URL: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"OR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: this.state.content,\n          onChange: e => this.setState({\n            content: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          onClick: () => this.onSubmit(),\n          children: \"Create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: this.displayErrorMessage()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/wenzhao/Desktop/ps_final/YueSun_HuiyuChen_WenZhao_A3/src/Component/CreatePost.js"],"names":["Navbar","React","Axios","CreatePost","Component","constructor","props","state","title","content","URL","message","onSubmit","newPost","setState","post","then","response","postID","data","_id","window","location","href","catch","error","displayErrorMessage","render","e","target","value"],"mappings":"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","sourcesContent":["import Navbar from \"./Navbar\";\nimport React from 'react';\nimport Axios from 'axios';\n\nexport default class CreatePost extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            title: '',\n            content: '',\n            URL: '',\n            message:''\n        }\n    }\n\n    onSubmit() {\n        const newPost = { \n            \"title\": this.state.title,\n            \"content\": this.state.content,\n            \"URL\": this.state.URL\n        };\n\n        if((!newPost.content && !newPost.URL) || (newPost.content && newPost.URL)){\n            this.setState({\n                message: \"Only need URL or Content\"\n            })\n            return\n        }\n\n        if(!newPost.title){\n            return this.setState({\n                message: \"Please input title for the new post\"\n            })\n        }\n\n        Axios.post('/api/post', newPost)\n        .then((response) => {\n            const postID = response.data._id;\n            window.location.href = \"post?id=\" + postID;\n        })\n        .catch((error) => {\n            this.setState( {\n                message: \"Fail to create new Post\"\n            })\n        })\n    }\n\n    displayErrorMessage(){\n        if(this.state.message){\n            return this.state.message\n        }  \n    }\n\n    render() {\n        return (\n            <div>\n                <Navbar></Navbar>\n                <h1>Create New Post</h1>\n                <form>\n                <label >Title</label>\n                <input type=\"text\" value={this.state.title} onChange={e => this.setState({title: e.target.value})}></input>\n                <label >URL</label>\n                <input type=\"text\" value={this.state.URL} onChange={e => this.setState({URL: e.target.value})}></input>\n                <h4>OR</h4>\n                <label >content</label>\n                <input type=\"text\" value={this.state.content} onChange={e => this.setState({content: e.target.value})}></input>\n                <div onClick={() => this.onSubmit()}>Create</div>\n                </form>\n                <div>{this.displayErrorMessage()}</div>\n\n            </div>\n\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}